<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Metal Gear Solid V waifus</title>
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="css/app.css" />
  </head>
  <body>

    <div class="row">
      <div class="large-12 columns">
        <h3><center>All unique staff obtainable in MGSV with pics, names and missions where you can get them</center></h3>
        <p><a data-open="exampleModal1">Click here for notes</a></p>
      </div>
    </div>

    <div class="reveal" id="exampleModal1" data-reveal>
      <h1>Notes</h1>
      <p>There are 177 unique staff members including Snake, your avatar, Miller, Ocelot etc. However some of them don't have attached pics (see <i>\master\data1\Assets\tpp\motherbase\script\MbmCommonSetting.lua</i>). Best example is Silent Basilisk (<i>staff_name_99_056</i>) without <i>faceId</i> property. All soldiers with <i>faceId</i> property ripped from scripts have <i>'fid_from_scripts'</i> flag in <i>staff.json</i>, others were found manually.</p>
      <p>Some of them have <i>missionId</i> property, which shows where you can extract them. This property also means that these soldiers have to be rescued as prisoners. Soldiers like Malak don't have <i>missionId</i> because you must extract them to finish the mission or whatever.</p>
      <p>Some faces are unique and some may change; for example your Flaming Buffalo can have a slightly different face, while Hideo has only one portrait. If a soldier has <i>faceId</i> greater than 600, his/her face is unique.</p>
      <p>Notes are based on ingame scripts and can be inaccurate</p>
      <p>Every soldier has his unique ID, which you can use for modding; for example replace Silent Basilisk with Ivory Skull to get her almost legally.</p>
      <p>You can get pics by extracting them using <a href="https://www.dropbox.com/s/0rtpumx2mxsjaby/MGSV_QAR_Tool.rar?dl=0">MGSV QAR Tool v1.3 by Sergeanur</a> (and convert with <a href="https://github.com/Atvaark/FtexTool">FtexTool</a>) (there was a MEGA link, but github doesn't like it). Or just clone this repository.
      </p>
      <p>Any help finding remaining portraits and info about prisoners in sidemissions (in game scripts) would be appreciated.</p>

      <p>If you want to use this website's materials in your own articles/web sites/wherever, please link this page as a source. Thanks.</p>
      <button class="close-button" data-close aria-label="Close reveal" type="button">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class='row'>
      <div class='large-12 columns'>
        <a href="#" class='button' onclick='females_only()'>Females only</a>
        <a href="#" class='button' onclick='unique_only()'>Unique faces only</a>
      </div>
    </div>

    <div class='row' id='staff'>
    </div>

    <div class='row' id='faceless_staff'>
      <p id='faceless_count'></p>
    </div>

    <div class='row' id='names'>
      <div class='large-12 columns'>
        <h4>Names used for name generation</h4>
        <p>Sadistic, Osprey, Twilight, Iron, Panzer, Growling, Dizzy, Piranha, Octopus, Greedy Wallaby, Bloody, Ox, Lonely, Spying, Copper, Hissing, Spitting, Jumping, Silent, Falcon, Hyena, Swan, Smiling, Mad, Dizzy, Jade, Green, Sly, Razor, Greedy, Hungry, Shark, Ferret, Wombat, Whale, Bull, Raging, Glacier, Onyx, Buzzard, Griffon, Rhino, Tigress, Flaming Stallion, Brass, Worm, Wild, Pouncing, Dark, Dancing, Unicorn, Pouncing, Hungry, Rampant, Python, Smoking, Vile, Dark, Sinister, Frantic, Biting, Gator, Mole, Vengeful, Pirate, Rabid, Mad, Hulking, Bastard, Sparrow, Goat, Cunning, Ashen, Cat, Mammoth, Bullet, Rooster, Rancid, Cobra, Running, Shining, Assassin, Phoenix, Doom, Crow, Bear, Boa, Wild, Thunder, Crying, Steel, Husky, Marmot, Roach, Poison, Zebra, Black, Bat, Frigid, Tiger, Kitten, Panther, Echidna, Serpent, Flaming, Lion, Gopher, Punching, Hissing, Turkey, Growling, Bison, Hippo, Wombat, Buffalo, Hornet, Wolf, Sunny, Running, Sinister, Crab, Otter, Frantic, Spider, Lizard, Goblin, Blazing, Punching, Badger, Gibbon, Ashen Mongoose, Ice, Eel, Sky, Gray, Crystal, Bitter, Cunning, Devil, Adder, Dingo, Razor, Rumble, Boa, Armored, Howling, Laughing, Moth, Panzer, Dhole, Hound, Whale, Jackal, Howling, Eel, Raging, Weevil, Serpent, Ochre, Moose, Weasel, Devil, Grizzly, Rumble, Beetle, Night, Marlin, Scowling, Python, Husky, Gazelle, Wasp, Leopard, Vengeful, Blazing, Viper, Owl, Boar, Blue, Panda, Vampire, Coyote, Midnight, Elk, Mustang, Glacier, Charging, Macaw, Prowling, Brutal, Jaguar, Vile, Stubborn, Marlin, Hippo, Cannibal Harrier, Mouse, Roach, Stalking, Agama, Smoking, Death, Golden, Creeping, Slug, Harrier, Death, Rogue, Jackal, Gecko, Osprey, Mastiff, Ram, Rabid, Bloody, Brass, Rampant, Crawling, Raccoon, Titanium, Killer, Spunky, Roaring, Striker, Lynx, Sloth, Creeping, Raptor, Wasp, Cannibal, Flaming, Prowling Wallaby, Frigid, Iguana, Stalking, Llama, Crimson, Scowling, Bullet, Crawling, Wallaby, Armored, Killer, Prowling, Sly, Mantis, Lonely, Sly Sturgeon, Silver, Koala, Charging, Wallaby, Bitter, Stone, Greedy, Raving, Buzzard, Eagle, Obsidian, Dire, Hawk, White, Raving, Thunder, Roaring, Hog, Spitting, Cheetah, Sadistic, Seething, Heron, Agama, Rancid, Dragon, Hunting, Seething, Orca, Vulture, Spying, Hunting, Fire, Harrier</p>
      </div>
    </div>

    <script src="js/vendor/jquery.min.js"></script>
    <script src="js/vendor/what-input.min.js"></script>
    <script src="js/foundation.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/jquery.lazyload.js"></script>
    <script type="text/javascript">
      //javascript is gross
      function clear(){
        //function for testing
        $('#staff').html("<div class='row' id='staff_0'></div>")
        $('#faceless_staff').html("<h4>These characters don't have faces attached to them (they are still unique)</h4>\
      <div class='large-12 columns' id='faceless_staff_1'></div>")
      }

      function get_best_unit(f)
      {
        keys = ['combat','develop','baseDev',
                'support','spy','medical']
        names = ['Combat','Develop','BaseDevelopment',
                'Support','Intel','Medical']
        var max = 0
        var best_unit = 'combat'
        $(keys).each(function(i,k)
        {
          if (f[k] > max)
          {
            max = f[k]
            best_unit = k
          }
        })
        return names[keys.indexOf(best_unit)]
      }

      function females_only()
      {
        $('.soldier-male').toggle()
      }


      function unique_only()
      {
        $('.non-unique').toggle()
      }

      function append_info(f, mid)
      //create column with info and pic
      {
        var col = "\
        <div class='large-3 medium-3 small-3 columns "
        if ('gender' in f)
          col = col + 'soldier-female'
        else
          col = col + 'soldier-male'
        if ('faceId' in f)
        {
          var fid = f.faceId.split("_")
          if (fid[0] < 600)
           col = col + ' non-unique'
        }
        else
          col = col + ' non-unique'

        col = col + "'>\
          <div class='media-object'>\
            <div class='media-object-section bottom'>\
              <div class='thumbnail'>\
                <img height=250 width=250 class='lazy' data-original='img/ui_face_"
        if ('faceId' in f)
          var column = col + f.faceId + ".png'>\</div><center>"
        else 
          var column = col + "unknown_0.png'>\</div><center>"

        column = column + "<b>Name:</b> " + f.name
          + "<br>ID: " + f.uniqueId
        if ('lang' in f)
          column = column + "<br>Lang: " + f.lang 
        if (f.skill != 'None')
          column = column + "<br>Skill: " + f.skill 
        // if ('missionId' in f)
        // {
        //   if (f.missionId != 0 )
        //     column = column + "<br>Mission: " + f.missionName   
        // }
        column = column + "<br>Unit: " + get_best_unit(f)
        if ('notes' in f)
          column = column + "<br><i>*" + f.notes + "</i>"
        if ('faceId' in f)
        {
          var fid = f.faceId.split("_")
          if (fid[0] < 600)
           column = column + "<br><i>face slightly varies\
                              (<a href='#!' onClick='change_face(this,\"" + fid[0]+"_0\")'>1</a>,\
                              <a href='#!' onClick='change_face(this,\"" + fid[0]+"_1\")'>2</a>,\
                              <a href='#!' onClick='change_face(this,\"" + fid[0]+"_2\")'>3</a>)</i>"
          else
            column = column + "<br><i>unique face</i>"
        }

        if ('screenshot' in f)
          column = column + "<br><a target='_blank' href='img/screenshots/" + mid + '/' + f.screenshot + ".jpg'>Screenshot</a>"
	
	if (f.name=='Razor Hedgehog')
		column = column + "<br><a target='_blank' href='img/razor_hedgehog_bio.png'>Bio</a>"

        column = column + "</center></div></div>"
        return column
      }

      function fix_last_row(row_type, row_number)
      //add empty columns if we need
      {
        last_row_len = $('#'+row_type+"_" + row_number).length
        if (last_row_len != 4)
        {
          count = 4 - last_row_len
          while (count != 0) {
            $('#'+row_type+row_number).append("<div class='large-3 columns'></div>")
            count = count -1
          }
        }
      }

      function change_face(element,faceId)
      {
        var column = $(element).parent().parent().parent()
        var img = $(column).find('img')
        $(img).attr('src',"img/ui_face_" + faceId + ".png")
      }


      var faceless = []
      var staff
      $.getJSON('js/staff.json').done(function (data) {staff = data})

      $.getJSON('js/missions.json').done(function (data){
        $.each(data.missions, function (i,f)
        {
          var staff_count = 0
          var current_row = 0
          
          $.map(staff.staff, function(staff_member) {
            if (!('faceId' in staff_member))
            {
                var i
                var already_here = false
                for (i=0; i<faceless.length; i++)
                {
                  if (faceless[i] == staff_member)
                    already_here = true
                }
                if (already_here === false)
                  faceless.push(staff_member)
            }

            if (staff_member.missionId == f.missionId)
            {
              staff_count++
              if (staff_count == 1)
              {
                $('#staff').append("<div class='row'><div class='large-12 column'><h2 id='mission_"+f.missionId +"'>Mission " + f.id + ': ' + f.name+"</h1></div></div>")
                $('#staff').append("<div class='row' id='staff_0_" + f.missionId + "'></div>")
              }

              var column = append_info(staff_member, f.id)
              $('#staff_'+current_row+'_'+f.missionId).append(column)

              if ( (((staff_count)%4 == 0)&&(staff_count!=0)) )
              {
                  current_row = Math.floor(staff_count/4)
                  $('#staff').append("<div class='row' id='staff_"+current_row+'_' + f.missionId+"'></div>")
              }

            }
          })

          if ( (staff_count != 0) && (staff_count%4 > 0) )
              $('#staff_'+current_row+'_'+f.missionId).append("<div class='large-3 column'></div>")

          if (staff_count > 0)
            $('#mission_'+f.missionId).append(' (' + staff_count + ')')
        })
        $("img.lazy").lazyload();
        $('#faceless_count').html('Faceless staff members: ' + faceless.length + '; ')
        $.each(faceless, function (i, staff_member){
          $('#faceless_count').append(staff_member.name)
          if (i < faceless.length-1)
            $('#faceless_count').append(', ')
        })
      })


    </script>
  </body>
</html>
